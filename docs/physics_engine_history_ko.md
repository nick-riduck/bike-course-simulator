# 물리 엔진 페이싱 전략의 진화

## 1. 레거시 접근법: 경사도 기반 페이싱 (V1)
초기 전략은 오직 도로의 경사도에만 의존하여 목표 파워를 결정했습니다.

*   **공식:**
    *   오르막: $P_{target} = P_{base} \times (1 + \alpha_{climb} \times Grade)$
    *   내리막: $P_{target} = P_{base} \times (1 + \alpha_{descent} \times Grade)$
*   **한계점:**
    *   **외부 저항 무시:** 평지(Grade 0)에서 강력한 맞바람을 맞아 속도가 10km/h로 떨어져도, 엔진은 $P_{base}$를 유지할 뿐 저항을 이겨내기 위한 추가 파워를 내지 못했습니다.
    *   **비효율:** 사이클링 물리의 핵심인 공기 저항을 전혀 고려하지 않았습니다.

## 2. 속도 기반 페이싱으로의 전환 (V2 실험)
공기역학적 효율을 최적화하기 위해, 우리는 분석의 기준을 '경사도'에서 '속도'로 전환했습니다. 물리적으로는 속도가 느릴 때(공기저항 패널티 최소화) 힘을 쓰고, 빠를 때 힘을 아끼는 것이 유일한 최적화 방법입니다.

### 가. 순수 이론 모델 ($P \propto 1/V$)
*   **개념:** 단위 거리당 동일한 대사 비용을 유지.
*   **공식:** $P_{target} = P_{base} \times (V_{ref} / V_{current})$
*   **결과 (실패):**
    *   북악 같은 급경사(10km/h)에서 목표 파워가 **$P_{base}$의 3~4배(900W 이상)**까지 폭주했습니다.
    *   이는 무산소 에너지($W'$)의 즉각적인 고갈을 유발하여 "탈진(Bonk)"으로 이어졌습니다.

### 나. 로그 함수 모델 ($P \propto \ln(1/V)$)
*   **개념:** 역비례 모델의 기하급수적인 파워 폭주를 로그 함수로 억제.
*   **공식:** $P_{target} = P_{base} \times (1 - \beta \times \ln(V_{current} / V_{ref}))$
*   **결과 (미흡):**
    *   극단적인 파워 스파이크는 막았지만, 고속 구간에서의 반응성이 둔화되었습니다.

## 3. 최종 해법: 비대칭 베타 모델 (V2)
우리는 선형 편차 모델을 채택하되, 인간의 생리학적 한계를 고려하여 **비대칭적인 민감도**를 적용했습니다.

*   **공식:**
    $$ Ratio = 1 - (V_{current} / V_{ref}) $$
    $$ P_{target} = P_{base} \times (1 + \beta \times Ratio) $$

*   **비대칭 튜닝:**
    *   **오르막 / 저속 ($V < V_{ref}$):** $\beta_{slow} = 0.6$
        *   **이유:** 전기 모터와 달리, 인간은 고출력에서 기하급수적으로 빠르게 지칩니다. 의도적으로 오르막에서의 파워 증가율을 둔화시켜 무산소 에너지($W'$)를 보존합니다.
    *   **내리막 / 고속 ($V > V_{ref}$):** $\beta_{fast} = 1.5$
        *   **이유:** 공기저항은 속도의 제곱($V^2$)에 비례하여 힘을 가합니다. 높은 저항에 맞서 속도를 유지하거나 운동량을 활용하기 위해, 이론적 최적치보다 더 공격적으로 힘을 가합니다.

*   **이 전략의 장점 (날씨 API와의 시너지):**
    *   이 모델은 모든 저항의 **최종 결과물인 '속도'**에 반응합니다.
    *   **시나리오:** 평지에서 강한 맞바람 발생 시
        1.  바람으로 인해 속도($V$)가 자연스럽게 감소합니다.
        2.  솔버는 $V < V_{ref}$ 상태를 감지합니다.
        3.  공식에 의해 파워($P$)가 자동으로 증가합니다.
    *   별도의 '바람 보정 로직' 없이도, 페이싱 전략이 바람, 구름 저항, 경사도 등 모든 외부 환경에 자연스럽게 적응합니다.
